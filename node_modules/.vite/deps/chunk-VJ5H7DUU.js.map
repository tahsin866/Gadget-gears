{
  "version": 3,
  "sources": ["../../@primeuix/utils/src/eventbus/index.ts"],
  "sourcesContent": ["export type Handler = (evt: unknown) => void;\n\nexport interface EventBusOptions {\n    on(type: string, handler: Handler): void;\n    off(type: string, handler: Handler): void;\n    emit(type: string, evt?: unknown): void;\n    clear(): void;\n}\n\nexport function EventBus(): EventBusOptions {\n    const allHandlers = new Map<string, Handler[]>();\n\n    return {\n        on(type: string, handler: Handler) {\n            let handlers = allHandlers.get(type);\n\n            if (!handlers) handlers = [handler];\n            else handlers.push(handler);\n\n            allHandlers.set(type, handlers);\n\n            return this;\n        },\n        off(type: string, handler: Handler) {\n            const handlers = allHandlers.get(type);\n\n            if (handlers) {\n                handlers.splice(handlers.indexOf(handler) >>> 0, 1);\n            }\n\n            return this;\n        },\n        emit(type: string, evt?: unknown) {\n            const handlers = allHandlers.get(type);\n\n            if (handlers) {\n                handlers.forEach((handler) => {\n                    handler(evt);\n                });\n            }\n        },\n        clear() {\n            allHandlers.clear();\n        }\n    };\n}\n"],
  "mappings": ";AASO,SAASA,IAA4B;AACxC,MAAMC,IAAc,oBAAI;AAExB,SAAO,EACH,GAAGC,GAAcC,GAAkB;AAC/B,QAAIC,IAAWH,EAAY,IAAIC,CAAI;AAEnC,WAAKE,IACAA,EAAS,KAAKD,CAAO,IADXC,IAAW,CAACD,CAAO,GAGlCF,EAAY,IAAIC,GAAME,CAAQ,GAEvB;EACX,GACA,IAAIF,GAAcC,GAAkB;AAChC,QAAMC,IAAWH,EAAY,IAAIC,CAAI;AAErC,WAAIE,KACAA,EAAS,OAAOA,EAAS,QAAQD,CAAO,MAAM,GAAG,CAAC,GAG/C;EACX,GACA,KAAKD,GAAcG,GAAe;AAC9B,QAAMD,IAAWH,EAAY,IAAIC,CAAI;AAEjCE,SACAA,EAAS,QAASD,OAAY;AAC1BA,QAAQE,CAAG;IACf,CAAC;EAET,GACA,QAAQ;AACJJ,MAAY,MAAM;EACtB,EACJ;AACJ;",
  "names": ["EventBus", "allHandlers", "type", "handler", "handlers", "evt"]
}
